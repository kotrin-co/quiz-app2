{"version":3,"sources":["data_fetchers/QuizFetcher.js","components/Button/Button.jsx","components/Home/Home.jsx","models/Quiz.js","components/Quiz/Quiz.jsx","App.js","index.js"],"names":["QuizFetcher","axios","get","response","data","Button","props","onClickHandler","className","onClick","children","Home","history","console","log","push","Quiz","question","correctAnswer","incorrectAnswers","this","_question","_correctAnswer","_incorrectAnswers","_","shuffle","answer","fetch","quizDataList","results","map","result","he","decode","correct_answer","incorrect_answers","quizData","state","quizzes","currentIndex","numberOfCorrects","restart","quiz","judgeCorrectAnswer","alert","setState","QuizModels","fetchAndCreateQuizzes","length","renderLoading","renderQuiz","renderResult","to","answers","shuffleAnswers","index","key","selectAnswer","id","React","Component","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d079f60d.chunk.js","sourcesContent":["import axios from 'axios';\nconst API_URL='https://opentdb.com/api.php?amount=10&type=multiple';\n\nclass QuizFetcher{\n    static async fetch(){\n        const response = await axios.get(API_URL);\n        return response.data;\n    }\n}\n\nexport default QuizFetcher;","import React from 'react';\nimport './Button.css';\n\nconst Button = (props) =>{\n    let {onClickHandler} = props;\n\n    if(typeof onClickHandler !== 'function'){\n        onClickHandler = () => {};\n    }\n\n    return(\n        <div className=\"button\" onClick={onClickHandler}>\n            {props.children}\n        </div>\n    )\n}\n\nexport default Button;","import React from 'react';\nimport Button from '../Button/Button';\n\nconst Home = ({history}) =>{\n    console.log(history)\n    return(\n        <div>\n            <h1>ホーム</h1>\n            <Button\n            onClickHandler={()=>{\n                history.push('/quiz');\n            }}>\n                クイズページへ移動\n            </Button>\n            </div>\n    );\n}\n\nexport default Home;","import _ from 'lodash';\nimport he from 'he';\nimport QuizFetcher from '../data_fetchers/QuizFetcher.js';\n\nclass Quiz{\n    constructor({question,correctAnswer,incorrectAnswers}){\n        this._question = question;\n        this._correctAnswer = correctAnswer;\n        this._incorrectAnswers = incorrectAnswers;\n    }\n    get question(){\n        return this._question;\n    }\n    get correctAnswer(){\n        return this._correctAnswer;\n    }\n\n    shuffleAnswers(){\n        return _.shuffle([this._correctAnswer, ...this._incorrectAnswers]);\n    }\n\n    judgeCorrectAnswer(answer){\n        return answer === this._correctAnswer;\n    }\n\n    static async fetchAndCreateQuizzes(){\n        const quizDataList = await QuizFetcher.fetch();\n        return quizDataList.results.map(result=>{\n            return {\n                question: he.decode(result.question),\n                correctAnswer: he.decode(result.correct_answer),\n                incorrectAnswers: result.incorrect_answers.map(answer=> he.decode(answer))\n            };\n        })\n        .map(quizData =>{\n            return new Quiz(quizData);\n        });\n    }\n}\n\nexport default Quiz;","import React from 'react';\nimport QuizModels from '../../models/Quiz';\nimport Button from '../Button/Button';\nimport {Link} from 'react-router-dom';\nimport './Quiz.css';\n\nclass Quiz extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            quizzes:[],\n            currentIndex:0,\n            numberOfCorrects:0\n        };\n    }\n\n    async componentDidMount(){\n        await this.restart();\n    }\n\n    selectAnswer(quiz,answer){\n        let {currentIndex,numberOfCorrects} = this.state;\n        const isCorrect = quiz.judgeCorrectAnswer(answer);\n\n        if (isCorrect){\n            numberOfCorrects++;\n            alert('Correct Answer!!');\n        }else{\n            alert(`Wrong Answer... Correct Answer is \"${quiz.correctAnswer}\"`);\n        }\n        currentIndex++;\n\n        this.setState({\n            currentIndex,numberOfCorrects\n        })\n    }\n\n    async restart(){\n        this.setState({\n            quizzes:[],\n            currentIndex:0,\n            numberOfCorrects:0\n        });\n        const quizzes = await QuizModels.fetchAndCreateQuizzes();\n        this.setState({quizzes});\n    }\n\n    render(){\n\n        const {quizzes, currentIndex} = this.state;\n        \n        if(quizzes.length===0){\n            return this.renderLoading();\n        }\n\n        if(quizzes.length>0 && currentIndex < quizzes.length){\n            return this.renderQuiz();\n        }\n        \n        if(quizzes.length>0 && currentIndex >= quizzes.length){\n            return this.renderResult();\n        }\n    }\n\n    renderLoading(){\n        return(\n            <div>\n                <h1>クイズページ</h1>\n                <p>Now Loading...</p>\n                <hr/>\n                <Link to='/'>トップページへ</Link>\n            </div>\n        );\n    }\n\n    renderQuiz(){\n        const {currentIndex,quizzes} = this.state;\n        const quiz = quizzes[currentIndex];\n        const answers = quiz.shuffleAnswers().map((answer,index)=>{\n            return (\n                <li key={index}>\n                    <Button\n                    onClickHandler={()=>{this.selectAnswer(quiz,answer)}}\n                    >\n                        {answer}\n                    </Button>\n                </li>\n            );\n        });\n        return(\n            <div>\n                <h1>クイズページ</h1>\n                <p>{quiz.question}</p>\n                <ul className='QuizList'>{answers}</ul>\n                <hr/>\n                <Link to='/'>トップページへ</Link>\n            </div>\n        );\n    }\n\n    renderResult(){\n        const {quizzes,numberOfCorrects} = this.state;\n        return (\n            <div>\n                <h1>クイズページ</h1>\n                <div>\n                    <p id = 'result'>{`${numberOfCorrects}/${quizzes.length} corrects`}</p>\n                    <Button onClickHandler={()=>{this.restart()}}>\n                        Restart\n                    </Button>\n                </div>\n                <hr/>\n                <Link to=\"/\">トップページへ</Link>\n            </div>\n        );\n    }\n}\n\nexport default Quiz;","import React from 'react';\nimport QuizFetcher from './data_fetchers/QuizFetcher.js';\nimport {\n  HashRouter as Router,\n  Route \n} from 'react-router-dom';\nimport Home from './components/Home/Home';\nimport Quiz from './components/Quiz/Quiz';\nimport './App.css';\n\nclass App extends React.Component{\n\n  render(){\n    return (\n      <div className=\"App\">\n        <Router>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/quiz\" exact component={Quiz} />\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}